---
title: 'Webhook'
description: 'Webhooks provide instant notifications when your phone calls are completed.'
icon: 'webhook'
---

Set up custom automations on your end when you receive webhook events from Volubile.

## Configure webhook

Provide the `Webhook URL` where you want Volubile to send notifications in the [Integration Settings](https://eu.volubile.ai/settings/integration)

## Webhook payload

Once a call is completed or fails, a `POST` request will be sent to your `Webhook URL` with the details of the call.

```json
{
  "id": "3c90c3cc-0d44-4b50-8888-8dd25736052a",
  "agentId": "3c90c3cc-0d44-4b50-8888-8dd25736052a",
  "contactId": "3c90c3cc-0d44-4b50-8888-8dd25736052a",
  "phone": "+33612345678",
  "type": "INBOUND",
  "duration": 360,
  "startTime": "2024-07-30T14:35:00Z",
  "endTime": "2024-07-30T14:41:00Z",
  "status": "UNKNOWN",
  "extractors": {
    "customer": {
      "firstname": "firstname",
      "lastname": "lastname",
      "address": "address"
    },
    "example": "example"
  },
  "classifiers": {
    "Customer's request": "Refund"
  },
  "summary": "Discussed project requirements and next steps.",
  "created": "2024-07-30T14:45:00Z"
}
```

### Securing webhook

You can choose to enable security for webhooks by generating a secret in the [Integration Settings](https://eu.volubile.ai/settings/integration).

When enabled, we will include an `X-Webhook-Signature` in the request headers to your `Webhook URL` allowing you to verify that the payload originated from Volubile.

Below is sample code demonstrating how to verify the `HMAC signature` :

<CodeGroup>

```java Java
import org.apache.commons.codec.binary.Hex;
import java.security.InvalidKeyException;
import java.security.NoSuchAlgorithmException;
import javax.crypto.Mac;
import javax.crypto.spec.SecretKeySpec;
import static java.nio.charset.StandardCharsets.UTF_8;
...

final var SECRET_KEY = "{volubile-webhook-secret}";

final var payload = """
{
    "id": "3c90c3cc-0d44-4b50-8888-8dd25736052a",
    "agentId": "3c90c3cc-0d44-4b50-8888-8dd25736052a",
    "type": "INBOUND",
    ...
}
""";

try {
    final var mac = Mac.getInstance("HmacSHA256");
    mac.init(new SecretKeySpec(SECRET_KEY.getBytes(UTF_8), "HmacSHA256"));
    final byte[] rawHmac = mac.doFinal(payload.getBytes());
    final byte[] hexBytes = new Hex().encode(rawHmac);

    final var signature = new String(hexBytes, UTF_8);
    ...
} catch (final NoSuchAlgorithmException | InvalidKeyException e) {
    logger.error("Error occurred!");
}
```

```typescript TypeScript
const crypto = require("crypto");

const SECRET_KEY = "{volubile-webhook-secret}";

const payload = JSON.stringify({
    "id": "3c90c3cc-0d44-4b50-8888-8dd25736052a",
    "agentId": "3c90c3cc-0d44-4b50-8888-8dd25736052a",
    "type": "INBOUND",
    ...
});

const signature = crypto
    .createHmac("sha256", SECRET_KEY)
    .update(payload, "utf-8")
    .digest("hex");

...
```

</CodeGroup>